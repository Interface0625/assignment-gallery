(this.webpackJsonpfotogalleri=this.webpackJsonpfotogalleri||[]).push([[0],{47:function(e,t,a){e.exports=a(62)},52:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(35),c=a.n(l),o=(a(52),a(78)),i=a(77),s=Object(i.a)({h2Style:{fontFamily:"Arial Black, Gadget, sans-serif",textAlign:"center",marginTop:"100px",fontSize:"45px"},pStyle:{textAlign:"center",fontFamily:"Verdana, Geneva, sans-serif"}}),u=function(){var e=s();return r.a.createElement("div",{className:"title"},r.a.createElement(o.a,{className:e.h2Style,color:"secondary"},"Mina Bilder"),r.a.createElement(o.a,{className:e.pStyle},"Ladda upp foton"))},m=a(10),f=a(28),d=a.n(f),p=a(39),g=a(17);a(63),a(58);g.initializeApp({apiKey:"AIzaSyCx25A2XxZvN3dfcBJBzkimKVCgK1aVp_Q",authDomain:"heidar-fotogalleri.firebaseapp.com",databaseURL:"https://heidar-fotogalleri.firebaseio.com",projectId:"heidar-fotogalleri",storageBucket:"heidar-fotogalleri.appspot.com",messagingSenderId:"503459001495",appId:"1:503459001495:web:f94d80d1370fa79212e5d2"});var E=g.storage(),b=g.firestore(),v=g.firestore.FieldValue.serverTimestamp,h=function(e){var t=Object(n.useState)(0),a=Object(m.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(null),o=Object(m.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(null),f=Object(m.a)(u,2),g=f[0],h=f[1];return Object(n.useEffect)((function(){var t=E.ref(e.name),a=b.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;l(t)}),(function(e){s(e)}),Object(p.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,r=v(),a.add({url:n,createdAt:r}),h(n);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:r,url:g,error:i}},j=function(e){var t=e.file,a=e.setFile,l=h(t),c=l.url,o=l.progress;return Object(n.useEffect)((function(){c&&a(null)}),[c,a]),r.a.createElement("div",{className:"progress-bar",style:{width:o+"%"}})},y=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),o=Object(m.a)(c,2),i=o[0],s=o[1],u=["image/png","image/jpeg"];return r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&u.includes(t.type)?(l(t),s("")):(l(null),s('Var v\xe4nlig och v\xe4lj filformaten "png eller jpeg"'))}}),r.a.createElement("span",null,"klicka h\xe4r")),r.a.createElement("div",{className:"output"},i&&r.a.createElement("div",{className:"error"}," ",i),a&&r.a.createElement("div",null," ",a.name," "),a&&r.a.createElement(j,{file:a,setFile:l})))},O=a(29),S=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){var t=b.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(O.a)(Object(O.a)({},e.data()),{},{id:e.id}))})),l(t)}));return function(){return t()}}),[e]),{docs:r}},x=function(){var e=S("images").docs;return r.a.createElement("div",{className:"img-grid"},e&&e.map((function(e){return r.a.createElement("div",{className:"img-wrap",key:e.id},r.a.createElement("img",{src:e.url,alt:"uppladdat foto"}))})))},N=a(81),A=a(84),k=a(79),w=a(83),B=Object(i.a)({h1Style:{fontStyle:"oblique",fontSize:"30px",letterSpacing:"2px",fontWeight:"normal"},addAPhoto:{color:"#0c0629",fontSize:"40px"}}),z=function(){var e=B();return r.a.createElement(N.a,{component:"nav"},r.a.createElement(A.a,{style:{background:"#fff"}},r.a.createElement(k.a,null,r.a.createElement(w.a,{className:e.addAPhoto}),r.a.createElement(o.a,{className:e.h1Style,color:"primary"}," Fotogalleri"))))};var F=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u,null),r.a.createElement(y,null),r.a.createElement(x,null),r.a.createElement(z,null))},I=a(80),V=a(42),C=a(40),J=a.n(C),K=a(41),L=a.n(K),T=Object(V.a)({palette:{primary:{main:J.a[900]},secondary:{main:L.a[300]}}});c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I.a,{theme:T},r.a.createElement(F,null))),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.013bea3b.chunk.js.map