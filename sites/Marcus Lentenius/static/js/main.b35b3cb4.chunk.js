(this["webpackJsonptodoist-sorting"]=this["webpackJsonptodoist-sorting"]||[]).push([[0],{117:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),c=n.n(o),i=n(57),u=n(10),l=n(34),s=n(7),m=n.n(s),f=n(14),p=n(32),d=p.initializeApp({apiKey:"AIzaSyB0YegQaogUwWG2aHi6YXmRhawpoB6yqio",authDomain:"lent-grocery-list.firebaseapp.com",databaseURL:"https://lent-grocery-list.firebaseio.com",projectId:"lent-grocery-list",storageBucket:"lent-grocery-list.appspot.com",messagingSenderId:"679079840406",appId:"1:679079840406:web:773d73899b9adb82e450b7",measurementId:"G-J9ZY2G1470"}),b=p.firestore(),g=function(){return Math.round(88888888*Math.random()+11111111)},h=function(){var e=Object(f.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.collection("grocery_list").doc(n).update({items:p.firestore.FieldValue.arrayRemove(t)}).catch((function(e){return console.error("delete error: ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.collection("grocery_list").doc("recipes").update({recipes:p.firestore.FieldValue.arrayRemove(t)}).catch((function(e){return console.error("delete error: ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(m.a.mark((function e(t,n){var r,a,o,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.name,a=n.category,o=void 0===a?"":a,c=n.amount,i={name:r,category:o,amount:void 0===c?1:c,id:g()},console.log("Creating item "+JSON.stringify(i)),t&&t.map((function(e){e.name.toLowerCase()===r.toLowerCase()&&(i.amount+=e.amount,h(e,"items"))})),e.abrupt("return",b.collection("grocery_list").doc("items").update({items:p.firestore.FieldValue.arrayUnion(i)}).catch((function(e){return console.error("write error: ",e)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.collection("grocery_list").doc("recipes").update({recipes:p.firestore.FieldValue.arrayUnion(t)}).catch((function(e){return console.error("write error: ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.collection("grocery_list").doc("new_items").update({items:p.firestore.FieldValue.arrayUnion(t)}).catch((function(e){return console.error("write error: ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.collection("grocery_list").doc("reference_list").update(Object(l.a)({},n,p.firestore.FieldValue.arrayUnion(t))).catch((function(e){return console.error("write error: ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function O(e){return k.apply(this,arguments)}function k(){return(k=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){b.collection("grocery_list").doc(t).onSnapshot((function(t){e(t.data())}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return e=e.slice(0,1).toUpperCase()+e.slice(1,e.length).toLowerCase()}var C=function(e,t){var n="",r=!1;return Object.values(t).forEach((function(e){e.map((function(t,n){e[n]=t.toLowerCase()}))})),Object.entries(t).forEach((function(t){t[1].includes(e.toLowerCase())&&(n=j(t[0]),r=!0)})),r||y(e),n},_=n(25),I=n(26);function F(){var e=Object(_.a)(["\n    ","\n"]);return F=function(){return e},e}var A=I.a.input(F(),(function(e){return e.addItem?"\n    background-color: #ffffff;\n    color: #858585;\n    border-radius: .25rem;\n    border: 1px solid #ababab;\n    height: 30px;\n    padding: 0 15px;\nwidth: calc(100% - 30px);\n":e.addAmount?" \n    width: 25px;\n    box-sizing:border-box;\n    background-color: #ffffff;\n    color: #858585;\n    border: 1px solid #ababab;\n    height: 32px;\n    text-align: center;\n    padding: 0 3px;\n":e.recipeName||e.ingredient?"\nwidth: calc(100% - 30px);\n    background-color: #ffffff;\n    color: #858585;\n    border-radius: .25rem;\n    border: 1px solid #ababab;\n    height: 30px;\n    padding: 0 15px;\n":e.ingredientAmount?"\n    width: 40px;\n    background-color: #ffffff;\n    color: #858585;\n    border-radius: .25rem;\n    border: 1px solid #ababab;\n    height: 30px;\n    padding: 0 15px;\n":""})),z=n(107),S="https://api.todoist.com/sync/v8/sync",R="a20db3a3e7de819db9fc1b3878cb2b5d606f0a17";function D(){return L.apply(this,arguments)}function L(){return(L=Object(f.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],"items",n={token:R,resource_types:'["items"]'},e.next=5,z.ajax({url:S,data:n,type:"POST",dataType:"json",success:function(e){return e.sync_token,e.items.forEach((function(e){2228491362===e.project_id&&t.push(e)})),t.sort((function(e,t){return e.child_order>t.child_order?1:-1})),e}});case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(108);var T=a.a.createContext(null),P=function(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),o=n[0],c=n[1],i=Object(r.useState)(!1),l=Object(u.a)(i,2),s=l[0],p=l[1],b=Object(r.useState)(null),g=Object(u.a)(b,2),h=g[0],v=g[1],E=Object(r.useState)(null),y=Object(u.a)(E,2),w=y[0],k=y[1],_=Object(r.useState)(null),I=Object(u.a)(_,2),F=I[0],A=I[1],z=Object(r.useState)(null),S=Object(u.a)(z,2),R=S[0],L=S[1],P=Object(r.useState)(null),N=Object(u.a)(P,2),H=N[0],U=N[1];Object(r.useEffect)((function(){o||d.auth().signInWithEmailAndPassword("marcus@lentenius.se","password").then((function(e){c(!0),console.log("authenticated")})).catch((function(e){return console.error(e)}))}),[o]),Object(r.useEffect)((function(){console.log("fetch?"),!s&&o&&V()}),[s,o]);var V=function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Preload initiated..."),e.next=3,J();case 3:return e.next=5,G();case 5:return e.next=7,K();case 7:return e.next=9,X();case 9:return e.next=11,Y();case 11:p(!0),console.log("Preload complete");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="newItems"===e.t0?3:"items"===e.t0?5:7;break;case 3:return X(),e.abrupt("break",7);case 5:return K(),e.abrupt("break",7);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching items..."),e.next=3,O("items");case 3:t=e.sent,v(t.items),console.log("Items fetched");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching recipes..."),e.next=3,O("recipes");case 3:t=e.sent,U(t.recipes),console.log("Recipes fetched");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching Reference list..."),e.next=3,O("reference_list");case 3:t=e.sent,k(t),console.log("Reference list fetched");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching Sorting order..."),e.next=3,O("sorting_order");case 3:t=e.sent,A(t.coop),console.log("Sorting order fetched");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching New items..."),e.next=3,O("new_items");case 3:t=e.sent,L(t.items),console.log("New items fetched");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,t.map((function(e){return{name:e.content,category:C(e.content,w)}})).forEach((function(e){var t=!1;h.forEach((function(n){n.name===e.name&&(t=!0)})),!1===t&&x(h,{name:j(e.name),category:e.category}).catch((function(e){return console.error(e)})),t=!1})),e.next=7,B("items");case 7:return e.next=9,B("newItems");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W={items:h,reference_list:w,sorting_order:F,new_items:R,recipes:H,fetchItems:K.bind(void 0),fetchReferenceList:G.bind(void 0),importFromTodoist:M.bind(void 0),fetchRecipes:Y.bind(void 0),updateData:B.bind(void 0)};return a.a.createElement(a.a.Fragment,null,s?a.a.createElement(T.Provider,{value:W},e.children):a.a.createElement("p",null," loading "))},N=n(155);function H(){var e=Object(_.a)(["\n","\n"]);return H=function(){return e},e}var U="\n    font: 400 13.3333px Arial;\n    cursor: pointer;\n    margin: 0;\n    display: inline-flex;\n    align-items: center;\n    vertical-align: middle;\n    justify-content: center;\n    color: rgba(0,0,0,0.87);\n    box-sizing: border-box;\n    letter-spacing: 0.02857em;\n    padding: 4px 10px;\n    border-radius: 10px;\n    border: 1px solid black;\n    height: 32px;\n",V="\n    padding: 0 6px;\n    z-index: 1300;\n    width: fit-content;\n    color: black;\n    font-size: 18px;\n    display: inline-block;\n    position: fixed;\n    top: 7px;\n",B=I.a.div(H(),(function(e){return e.decreaseAmount?"\nborder-right: 0;\nborder-top-right-radius: 0;\nborder-bottom-right-radius: 0;\n    "+U:e.increaseAmount?"\nborder-left: 0;\nborder-top-left-radius: 0;\nborder-bottom-left-radius: 0;\n    "+U:e.rightAligned?"\n    right: 8px;\n    position: absolute;\n"+U:e.leftDrawer?"\n    border-right: 1px solid gray;\n    left: 0;\n"+V:e.rightDrawer?"\n    border-left: 1px solid gray;\n    right: 0;\n"+V:e?U:null})),K=function(){var e=Object(r.useContext)(T),t=Object(r.useState)(1),n=Object(u.a)(t,2),o=n[0],c=n[1],i=Object(r.useRef)(),l=function(){var t=i.current;if(""!==t.value){var n=C(t.value,e.reference_list);x(e.items,{name:j(t.value),category:n,amount:o}).catch((function(e){return console.error(e)})),e.updateData("items"),""===n&&e.updateData("newItems")}c(1),t.value="",t.focus()};return a.a.createElement(N.a,{container:!0,style:{marginTop:"20px",position:"sticky",bottom:"10px"}},a.a.createElement(N.a,{item:!0,xs:!0},a.a.createElement(A,{addItem:!0,ref:i,onKeyPress:function(e){"Enter"===e.key&&l()}})),a.a.createElement(N.a,{item:!0},a.a.createElement(B,{decreaseAmount:!0,onClick:function(e){i.current.focus(),e.preventDefault(),e.stopPropagation(),o>1&&c(o-1)}},"-"),a.a.createElement(A,{addAmount:!0,value:o,name:"amount"}),a.a.createElement(B,{increaseAmount:!0,onClick:function(e){i.current.focus(),e.preventDefault(),e.stopPropagation(),c(o+1)}},"+"),a.a.createElement(B,{variant:"contained",disableElevation:!0,size:"small",onClick:function(){return l()}},"Add")))};function Y(){var e=Object(_.a)(["\n    position: absolute;\n    top: 50%;\n    right: 0;\n    transform: translateY(-50%);\n    display: inline-block;\n    height: 20px;\n    width: 20px;\n    border-radius: 15px;\n    border: 1px solid #ababab;\n    background-color: white;\n    cursor: pointer;\n"]);return Y=function(){return e},e}var G=I.a.div(Y());function J(){var e=Object(_.a)(["\n    width: 100%;\n    height: 32px;\n",";\n"]);return J=function(){return e},e}var X=I.a.div(J(),(function(e){return e.groceryList?"\n    position: relative;\n    border-bottom: 1px solid #efeded;\n    display: flex;\n        margin-top: 10px;\n        text-align: right;\n":e.recipeIngredient?"\n    width: 300px;\n    align-items: center;\n    position: relative;\n    display: flex;\n    left: 50%;\n    transform: translateX(-50%);\n":""}));function M(){var e=Object(_.a)(["\nmargin: 0;\nfont-size: 14px;\nfont-family: Arial,serif;\n\n",";\n"]);return M=function(){return e},e}var W=I.a.p(M(),(function(e){return e.item?"\n    font-size: 22px;\n":e.categoryHeadline?"\n    cursor: pointer;\n    position: relative;\n    margin: 15px 0 5px 0;\n    font-size: 30px;\n":e.ingredient?"\nwidth: 100%;\n":e.recipeHeadline?"\nfont-size: 25px;\n":e.routerLink?"\ncolor: black;\nfont-size: 25px;\ntext-decoration: none;\ntext-align: right;\nwhite-space: nowrap;\nmargin-left: 30px;\nmargin-right: 10px;\n":e.groceryListHeadline?"\nfont-size: 25px;\ntext-align: center;\nmargin: 20px;\n":e.inline?"\ndisplay: inline-block;\nheight: 40px;\n\n    font-size: 22px;\n    position: relative;\n":""})),q=function(e){var t=e.item,n=Object(r.useContext)(T);return a.a.createElement(X,{groceryList:!0},a.a.createElement(W,{item:!0},1===t.amount?null:t.amount," ",t.name),a.a.createElement(G,{onClick:function(){h(t,"items"),n.fetchItems()}}))},Q=function(e){var t=e.category,n=Object(r.useContext)(T),o=Object(r.useState)(!0),c=Object(u.a)(o,2),i=c[0],l=c[1],s=function(){l(!i)},m=function(){return a.a.createElement(a.a.Fragment,null,n.items.filter((function(e){return e.category===t})).map((function(e){return a.a.createElement(q,{key:"category_"+e.name+g(),item:e})})))};return a.a.createElement(a.a.Fragment,null,""!==t?a.a.createElement(W,{categoryHeadline:!0,onClick:function(){return s()}},t):a.a.createElement(W,{categoryHeadline:!0,onClick:function(){return s()}},"Ok\xe4nd"),i?a.a.createElement(m,null):null)},Z=n(158),$=n(62),ee=n(171),te=n(172),ne=n(157),re=function(e){var t=e.anchor,n=e.content,r=e.disableClickToClose,o=a.a.useState({left:!1,right:!1}),c=Object(u.a)(o,2),i=c[0],s=c[1],m=function(e,t){return function(n){(!n||"keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&s(Object($.a)(Object($.a)({},i),{},Object(l.a)({},e,t)))}};return a.a.createElement(a.a.Fragment,{key:t},"left"===t?a.a.createElement(B,{leftDrawer:!0,onClick:m(t,!0)},"\u2630"):null,"right"===t?a.a.createElement(B,{rightDrawer:!0,onClick:m(t,!0)},"\u2630"):null,a.a.createElement(Z.a,{position:"fixed",style:{zIndex:1299,height:"40px",boxShadow:"none",padding:"8px",position:"fixed",backgroundColor:"white",borderBottom:"1px solid gray"}}),a.a.createElement(ee.a,{anchor:t,open:i[t],onClose:m(t,!1),onOpen:m(t,!0)},"left"===t?a.a.createElement(B,{leftDrawer:!0,onClick:m(t,!1)},"X"):null,"right"===t?a.a.createElement(B,{rightDrawer:!0,onClick:m(t,!1)},"X"):null,function(e){return a.a.createElement(a.a.Fragment,null,r?a.a.createElement(a.a.Fragment,null,a.a.createElement(te.a,{style:{paddingTop:"60px"}},n.map((function(e){return e}))),a.a.createElement(ne.a,null)):a.a.createElement("div",{role:"presentation",onClick:m(e,!1),onKeyDown:m(e,!1)},a.a.createElement(te.a,{style:{paddingTop:"60px"}},n.map((function(e){return e}))),a.a.createElement(ne.a,null)))}(t)))},ae=function(){var e=Object(r.useContext)(T),t=e.sorting_order.map((function(e){return j(e)})),n=Object(i.a)(new Set(e.items.map((function(e){return e.category}))));t&&n.sort((function(e,n){return t.indexOf(e)-t.indexOf(n)}));var o=[a.a.createElement(B,{variant:"contained",disableElevation:!0,size:"small",style:{marginBottom:"80px",textAlign:"center",width:"100%",marginTop:"40px"},onClick:function(){e.importFromTodoist()}},"Import from Todoist")];return a.a.createElement(a.a.Fragment,null,a.a.createElement(re,{anchor:"right",content:o}),a.a.createElement(W,{groceryListHeadline:!0},"Grocery list"),n.map((function(e){return a.a.createElement(Q,{key:"list_"+e,category:e})})),a.a.createElement(Z.a,{position:"fixed",style:{top:"auto",bottom:0,padding:"0 16px 16px 16px",backgroundColor:"white"}},a.a.createElement(K,null)))},oe=n(39),ce=n(12);function ie(){var e=Object(_.a)(["\n    border-radius: .25rem;\n    border-color: #ababab;\n    color: #6a6a6a;\n    height: 32px;\n    padding: 0 5px;\n    width: 140px;\n    font-size: 16px;\n"]);return ie=function(){return e},e}var ue=I.a.select(ie()),le=function(){var e=Object(r.useContext)(T);return a.a.createElement(ue,null,a.a.createElement("option",null,"Kategori"),Object.keys(e.reference_list).map((function(e){return a.a.createElement("option",{key:"new_items_options_"+e},j(e))})))},se=function(){var e=Object(r.useContext)(T);return a.a.createElement(a.a.Fragment,null,e.new_items.map((function(t){return a.a.createElement("form",{key:"new_items_form_"+t,onChange:function(n){return function(t,n){w(n,t.target.value),h(n,"new_items"),e.updateData("newItems")}(n,t)}},a.a.createElement(N.a,{container:!0},a.a.createElement(N.a,{item:!0,xs:!0},a.a.createElement(W,{newItem:!0},j(t))),a.a.createElement(N.a,{item:!0},a.a.createElement(le,{key:"new_items_new_items_options_"+t}),a.a.createElement(B,{variant:"contained",disableElevation:!0,size:"small",onClick:function(n){n.preventDefault(),h(t,"new_items"),e.updateData("newItems")}},"Delete"))))})))},me=n(76),fe=n(159),pe=n(4),de=n(160),be=n(161),ge=n(164),he=n(162),ve=n(163),xe=n(170),Ee=n(75),ye=n.n(Ee),we=Object(fe.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),Oe=function(e){var t=e.recipe,n=Object(r.useContext)(T),o=a.a.useState(!1),c=Object(u.a)(o,2),i=c[0],s=c[1],m=we();return a.a.createElement(de.a,{variant:"outlined"},a.a.createElement(be.a,{onClick:function(){s(!i)},action:a.a.createElement(he.a,{disableSpacing:!0},a.a.createElement(xe.a,{className:Object(pe.a)(m.expand,Object(l.a)({},m.expandOpen,i)),"aria-expanded":i,"aria-label":"show more"},a.a.createElement(ye.a,null))),title:a.a.createElement(W,{recipeHeadline:!0},t.name)}),a.a.createElement(ve.a,{in:i,timeout:"auto",unmountOnExit:!0},a.a.createElement(ge.a,null,t.ingredients.map((function(e){return a.a.createElement(X,{recipeIngredient:!0},a.a.createElement(W,null,e.amount," ",e.name),a.a.createElement(B,{variant:"contained",disableElevation:!0,size:"small",onClick:function(t){!function(e,t){var r=C(e,n.reference_list);x(n.items,{name:j(e),category:r,amount:t}),n.fetchItems()}(e.name,e.amount),t.target.parentNode.remove()}},"Add"))})))))},ke=function(e){var t=e.ingredientRef,n=e.amountRef,r=e.handleAddIngredient;return a.a.createElement(a.a.Fragment,null,a.a.createElement(N.a,{container:!0},a.a.createElement(N.a,{item:!0,xs:!0},a.a.createElement(A,{ingredient:!0,ref:t,id:"ingredient",placeholder:"Ingredient",onKeyPress:function(e){"Enter"===e.key&&r()}})),a.a.createElement(N.a,{item:!0},a.a.createElement(A,{ingredientAmount:!0,ref:n,id:"amount",placeholder:"Antal",onKeyPress:function(e){"Enter"===e.key&&r()}}),a.a.createElement(B,{variant:"contained",disableElevation:!0,size:"small",onClick:function(e){r()}},"Add"))))},je=function(e){var t=e.thisIngredient,n=e.ingredients,o=e.setIngredients,c=Object(r.useState)(!1),i=Object(u.a)(c,2),l=i[0],s=i[1],m=Object(r.useRef)(),f=Object(r.useRef)();Object(r.useEffect)((function(){l&&(f.current.focus(),f.current.select())}),[l]);return a.a.createElement(N.a,{container:!0},l?a.a.createElement(a.a.Fragment,null,a.a.createElement(N.a,{item:!0,xs:!0},a.a.createElement(A,{addItem:!0,ref:f,defaultValue:j(t.name),onChange:function(e){return t.name=e.target.value}})),a.a.createElement(N.a,{item:!0},a.a.createElement(B,{variant:"contained",disableElevation:!0,size:"small",decreaseAmount:!0,onClick:function(){return t.amount-=1,void(m.current.value-=1)}},"-"),a.a.createElement(A,{addAmount:!0,ref:m,value:t.amount}),a.a.createElement(B,{variant:"contained",disableElevation:!0,size:"small",increaseAmount:!0,onClick:function(){return function(){var e=t.amount;e++,t.amount=e,m.current.value=e}()}},"+"),a.a.createElement(B,{variant:"contained",disableElevation:!0,size:"small",onClick:function(){s(!1)}},"Apply"))):a.a.createElement(a.a.Fragment,null,a.a.createElement(N.a,{item:!0,xs:!0},a.a.createElement(W,{ingredient:!0,key:t.id,onClick:function(){return s(!0)}},t.amount," ",t.name)),a.a.createElement(N.a,{item:!0},a.a.createElement(B,{variant:"contained",disableElevation:!0,size:"small",onClick:function(){return function(){var e=[];n.forEach((function(n){n!==t&&e.push(n)})),o(e)}()}},"Delete"))))},Ce=function(){var e=Object(r.useContext)(T),t=Object(r.useState)([]),n=Object(u.a)(t,2),o=n[0],c=n[1],l=Object(r.useRef)(null),s=Object(r.useRef)(null),p=Object(r.useRef)(null),d={name:"",ingredients:o,id:g()};Object(r.useEffect)((function(){l.current.focus()}),[o]);var b=function(){var t=Object(f.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.current.value?d.name=p.current.value:console.log("inget namn p\xe5 recept"),t.next=3,E(d);case 3:e.fetchRecipes(),c([]),p.current.value="",l.current.value="",s.current.value="";case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(A,{recipeName:!0,ref:p,id:"name",onChange:function(e){d.name=e.target.value},placeholder:"Namn"}),o.map((function(e){return a.a.createElement(je,{thisIngredient:e,ingredients:o,setIngredients:c})})),a.a.createElement(ke,{ingredientRef:l,amountRef:s,handleAddIngredient:function(){var e=l.current,t=s.current,n=new RegExp("^[0-9]*$");""===t.value||n.test(t.value)?""===e.value?console.log("inget namn"):(o.push({name:e.value,amount:parseInt(""===t.value?1:t.value)}),c(Object(i.a)(o)),e.value="",t.value=""):console.log("fel eller inget nummer amount")}.bind(void 0)}),a.a.createElement(X,null,a.a.createElement(B,{variant:"contained",disableElevation:!0,size:"small",onClick:function(e){b(e)}},"Add Recipe")),a.a.createElement(X,null))},_e=n(165),Ie=n(166),Fe=n(167),Ae=n(169),ze=function(){var e=Object(r.useContext)(T),t=a.a.useState(!1),n=Object(u.a)(t,2),o=n[0],c=n[1],i=function(){c(!0)},l=function(){c(!1)},s=function(t){return a.a.createElement(Ae.a,null,a.a.createElement(W,{inline:!0},t.name),a.a.createElement(B,{rightAligned:!0,onClick:i},"Delete"),a.a.createElement(_e.a,{open:o,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(Ie.a,{id:"alert-dialog-title"},"Do you want to delete this recipe?"),a.a.createElement(Fe.a,null,a.a.createElement(B,{onClick:function(){l(),function(t){v(t,"recipes"),e.fetchRecipes()}(t)}},"Yes"),a.a.createElement(B,{onClick:l,autoFocus:!0},"No"))))},m=[a.a.createElement(Ae.a,{m:1},a.a.createElement(Ce,null),e.recipes.map((function(e){return s(e)})))];return a.a.createElement(a.a.Fragment,null,a.a.createElement(re,{anchor:"right",content:m,disableClickToClose:!0}),e.recipes.map((function(e){return a.a.createElement(Oe,{recipe:e,key:e.name})})))},Se=n(168),Re=a.a.createElement(P,null,a.a.createElement(oe.a,null,a.a.createElement(Se.a,{style:{top:"50px",position:"relative"}},a.a.createElement(ce.b,{path:"/",component:function(){var e=[a.a.createElement(oe.b,{to:"/list",style:{textDecoration:"none"}},a.a.createElement(W,{routerLink:!0},"List")),a.a.createElement(oe.b,{to:"/recipes",style:{textDecoration:"none"}},a.a.createElement(W,{routerLink:!0},"Recipes")),a.a.createElement(oe.b,{to:"/newItems",style:{textDecoration:"none"}},a.a.createElement(W,{routerLink:!0},"New items"))];return a.a.createElement(a.a.Fragment,null,a.a.createElement(re,{anchor:"left",content:e}),a.a.createElement(me.a,{to:"/recipes"}))}}),a.a.createElement(ce.b,{exact:!0,path:"/list",component:ae}),a.a.createElement(ce.b,{exact:!0,path:"/recipes",component:ze}),a.a.createElement(ce.b,{exact:!0,path:"/newItems",component:se}))));c.a.render(Re,document.getElementById("root"))},92:function(e,t,n){e.exports=n(117)}},[[92,1,2]]]);
//# sourceMappingURL=main.b35b3cb4.chunk.js.map